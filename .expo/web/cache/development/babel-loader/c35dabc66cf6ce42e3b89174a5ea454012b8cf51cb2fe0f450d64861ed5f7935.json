{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Info() {\n  var _useNavigation = useNavigation(),\n    navigate = _useNavigation.navigate;\n  var route = useRoute();\n  var nome_acao = route.params.nome_acao;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    acao_encontrada = _useState2[0],\n    set_acao_encontrada = _useState2[1];\n  var procurar_acoes = function () {\n    var _ref = _asyncToGenerator(function* (url) {\n      try {\n        var resposta = yield fetch(url);\n        if (!resposta.ok) {\n          throw new Error(\"Falha ao carregar dados da API\");\n        }\n        var dados = yield resposta.json();\n        if (dados.results && dados.results.length > 0) {\n          set_acao_encontrada(dados.results[0]);\n        } else {\n          throw new Error(\"Dados inválidos retornados da API\");\n        }\n      } catch (error) {\n        console.error(error);\n        set_acao_encontrada(null);\n      }\n    });\n    return function procurar_acoes(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var url_pesquisa_acao = `https://brapi.dev/api/quote/${nome_acao}?range=1d&interval=1d&fundamental=true&dividends=true`;\n    console.log(url_pesquisa_acao);\n    procurar_acoes(url_pesquisa_acao);\n  }, [nome_acao]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.container2,\n      children: _jsx(View, {\n        style: styles.container3,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"PETER FINANCE\"\n        })\n      })\n    }), _jsxs(View, {\n      style: styles.container_inf_nome,\n      children: [acao_encontrada && acao_encontrada.logourl ? _jsx(Image, {\n        source: {\n          uri: acao_encontrada.logourl\n        },\n        style: styles.imagem\n      }) : _jsx(Text, {\n        children: \"Carregando...\"\n      }), _jsx(View, {})]\n    }), _jsx(Button, {\n      title: \"voltar\",\n      onPress: function onPress() {\n        navigate('Home');\n      }\n    })]\n  });\n}","map":{"version":3,"names":["useState","useEffect","View","Image","Text","Button","jsx","_jsx","jsxs","_jsxs","Info","_useNavigation","useNavigation","navigate","route","useRoute","nome_acao","params","_useState","_useState2","_slicedToArray","acao_encontrada","set_acao_encontrada","procurar_acoes","_ref","_asyncToGenerator","url","resposta","fetch","ok","Error","dados","json","results","length","error","console","_x","apply","arguments","url_pesquisa_acao","log","style","styles","container","children","container2","container3","text","container_inf_nome","logourl","source","uri","imagem","title","onPress"],"sources":["C:/Users/ct67ca/Desktop/ghdfghdf/App/src/pages/Info/index.tsx"],"sourcesContent":["import {useState, useEffect } from \"react\"\r\nimport {View, TextInput, Image, ScrollView, Text, Button } from \"react-native\"\r\nimport { ImSearch } from 'react-icons/im';\r\n\r\ntype Inf = {\r\n    logourl: string;\r\n  };\r\n  \r\n  export default function Info() {\r\n    const { navigate } = useNavigation();\r\n    const route = useRoute<nome_prop>();\r\n    const { nome_acao } = route.params;\r\n  \r\n    const [acao_encontrada, set_acao_encontrada] = useState<Inf | null>(null);\r\n  \r\n    const procurar_acoes = async (url: string) => {\r\n      try {\r\n        const resposta = await fetch(url);\r\n        if (!resposta.ok) {\r\n          throw new Error(\"Falha ao carregar dados da API\");\r\n        }\r\n        const dados = await resposta.json();\r\n        // Verifique se os dados são válidos antes de atualizar o estado\r\n        if (dados.results && dados.results.length > 0) {\r\n          set_acao_encontrada(dados.results[0]);\r\n        } else {\r\n          throw new Error(\"Dados inválidos retornados da API\");\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        // Lidar com o erro, por exemplo, mostrando uma mensagem de erro\r\n        set_acao_encontrada(null); // Defina como null para não tentar renderizar a imagem\r\n      }\r\n    };\r\n  \r\n    useEffect(() => {\r\n      const url_pesquisa_acao = `https://brapi.dev/api/quote/${nome_acao}?range=1d&interval=1d&fundamental=true&dividends=true`;\r\n      console.log(url_pesquisa_acao);\r\n      procurar_acoes(url_pesquisa_acao);\r\n    }, [nome_acao]);\r\n  \r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.container2}>\r\n          <View style={styles.container3}>\r\n            <Text style={styles.text}>PETER FINANCE</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.container_inf_nome}>\r\n          {acao_encontrada && acao_encontrada.logourl ? (\r\n            <Image\r\n              source={{ uri: acao_encontrada.logourl }}\r\n              style={styles.imagem}\r\n            />\r\n          ) : (\r\n            <Text>Carregando...</Text>\r\n          )}\r\n          <View>\r\n            {/* Outros elementos aqui */}\r\n          </View>\r\n        </View>\r\n        <Button\r\n          title=\"voltar\"\r\n          onPress={() => {\r\n            navigate('Home');\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}